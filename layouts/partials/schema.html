{{ if .IsHome -}}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "@id": "{{ (site.GetPage "/").Permalink | safeURL }}",
    "name": "{{ .Site.Title | safeJS }}",
    {{ with .Site.Params.description }}"description": "{{ . | safeJS }}",{{ end }}
    {{ with .Site.LanguageCode }}"inLanguage": "{{ . }}",{{ end }}
    "url": "{{ (site.GetPage "/").Permalink | safeURL }}",
    {{ with .Site.Params.keywords }}"keywords": {{ . }},{{ end }}
    "publisher" : {
      "@type": "Person",
      "name": "{{ .Site.Params.Author.name | safeJS }}"
    }
  }
  </script>
{{ else if or .IsPage }}
  {{- $iso8601 := "2006-01-02T15:04:05-07:00" -}}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ .Permalink }}"
    },
    "headline": "{{ .Title }}",
    {{ with .Params.description }}"description": "{{ . }}",{{ end }}
    {{ with .Params.featuredImage }}"image": "{{ . | absURL }}",{{ end }}
    "datePublished": "{{ .PublishDate.Format $iso8601 }}",
    {{ with .Lastmod }}"dateModified": "{{ .Format $iso8601 }}",{{ end }}
    "author": {
      "@type": "Person",
      "name": "{{ .Site.Params.Author.name }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ .Site.Title }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ "logo.png" | absURL }}"
      }
    }
  }
  </script>
{{ end }}
